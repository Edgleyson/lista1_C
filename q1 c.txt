//SAULO DIAS DAS CHAGAS MOTA
#include <stdio.h>
#include <stdlib.h>

int main(void){
      

     unsigned int n, x, comprimento, distanciaPedagio, custoCombustKM, valorPorPedagio, nPedagio, custoPedagio,custoCombust,ValorGasto;
     scanf("%u", &n);

     for(x=0; x<n; x++){
     scanf("%u%u%u%u" ,&comprimento,&distanciaPedagio,&custoCombustKM,&valorPorPedagio);
     nPedagio=comprimento/distanciaPedagio;
     custoPedagio=nPedagio*valorPorPedagio;
     custoCombust = custoCombustKM*comprimento;

     ValorGasto=custoPedagio+custoCombust;

     printf("%u\n", ValorGasto);

    }

   

   return 0;
}
